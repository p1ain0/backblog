---
title: 散列函数
date: 2021-07-06
tags: 算法与数据结构
---

## 散列函数的优劣标准

1.确定（dederminism）同一关键码总是被映射至同一地址。

2.快速（effciency）expeced - o(1)

3.满射（surjection）尽可能充分覆盖整个散列空间。

4.均匀（uniformity）关键码映射散列表各位置的概率尽量接近可有效避免聚集（clustering）现象。

## 散列函数的选择

### 整除取余法

### MAD法

除余法的缺陷：

    1）不动点。无论表长取值如何，总有hash(0) = 0;
    2）零阶均匀。[0,R)的关键码，平均分配至M个桶，但相邻关键码的散列必定相邻。
取M为素数：hash(key) = (a * key + b) % M

### 平方取中

取平方的中间若干位

### 折叠法

hash(123456789) = 123 + 456 + 789
hash(123456789) = 123 + 654 + 789

### 位异或法

hash(101011001) = 101 ^ 011 ^ 001

hash(101011001) = 101 ^ 110 ^ 001

### 伪随机数

伪随机数发生器：rand(x+1) = [a * rand(x)] % M   //M是素数

rand(key) = [rand(0) * (a ** key)] % M

伪随机数发生器依赖于各个平台的具体实现，可移植性较差，慎用！！！

### 多项式

```c++
size_t hashcode(char s[])
{
    int h = 0;
    for (size_t i = 0; i < strlen(s); i++)
    {
        h = (h << 5) | (h >> 27);
        h += (int)s[i]; 
    }
    return (size_t) h;
}
```

## 冲突排解
